<!DOCTYPE html>
<html>
<head>
  <title>Shopping Cart</title>
</head>
<body>

<script>
  function addItemToCart(item) {
    if (typeof(Storage) !== "undefined") {
      sessionStorage.setItem(item, true);
    } else {
      alert("Sorry, your browser does not support Web storage. Try again with a better one.");
    }
  }

  function createStore() {
    var ul = document.createElement("ul");
    document.body.appendChild(ul);

    availableItems.forEach(function(item) {
      var li = document.createElement("li");
      li.textContent = item;
      li.addEventListener("click", function() {
        addItemToCart(item);
      });
      ul.appendChild(li);
    });
  }

  function displayCart() {
    if (typeof(Storage) !== "undefined") {
      var cartSize = sessionStorage.length;

      if (cartSize > 0) {
        var p = document.createElement("p");
        p.textContent = "You previously had " + cartSize + " items in your cart.";
        document.body.appendChild(p);
      }
    }
  }

  var availableItems = ["Shampoo", "Soap", "Sponge", "Water"];

  if (typeof(Storage) === "undefined") {
    alert("Sorry, your browser does not support Web storage. Try again with a better one.");
  } else {
    createStore();
    displayCart();
  }
</script>

</body>
</html>
